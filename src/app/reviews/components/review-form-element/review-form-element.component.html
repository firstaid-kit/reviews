<div 
  [formGroup]="form">

    <mat-form-field
      *ngIf="element.controlType == 'textbox'"
      appearance="fill"
      class="form-element">
      <mat-label 
        [attr.for]="element.key">
        {{element.label}}
      </mat-label>

      <input 
        matInput 
        [formControlName]="element.key"
        [id]="element.key" 
        [type]="element.type"
        required="false">
    </mat-form-field>

    <mat-form-field
      *ngIf="element.controlType == 'dropdown'"
      appearance="fill"
      class="form-element">
      <mat-label 
        [attr.for]="element.key">
        {{element.label}}
      </mat-label>

      <mat-select 
        [id]="element.key"  
        [formControlName]="element.key"
        required="false">
        <mat-option 
          *ngFor="let opt of element.options" 
          [value]="opt.key">
          {{opt.value}}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field
      *ngIf="element.controlType == 'textarea'"
      appearance="fill"
      class="form-element">
      <mat-label 
        [attr.for]="element.key">
        {{element.label}}
      </mat-label>

      <textarea 
        matInput
        [formControlName]="element.key"
        [id]="element.key"
        required="false"
        rows="3">
      </textarea>
    </mat-form-field>

    <mat-form-field
      *ngIf="element.controlType == 'number'"
      appearance="fill"
      class="form-element">
      <mat-label 
        [attr.for]="element.key">
        {{element.label}}
      </mat-label>

      <input 
        matInput 
        [formControlName]="element.key"
        [id]="element.key" 
        [type]="element.type"
        required="false">
    </mat-form-field>   
  
    <div 
      class="errorMessage" 
      *ngIf="!isValid">
      {{element.label}} is required
    </div>
  </div>
